logic = ['a||] : a -> a -> prop
logic !! ['a|r|'e] : ref(r,a) -> <r 'e> -> a
let
  ref ['a|r|] = (fun (v:a) ->allocates r {(fun (cur:<r >) -> True)}
                parameter(ref(r,a),{ } + {r })
                {(fun (old:<r >) ->
                 (fun (cur:<r >) ->
                 (fun (x:ref(r,a)) -> (!! [a| r| { }] x cur) =[a||] v)))}) 
let
  myref ['a|r|] = (fun (x:a) ->allocates r {(fun (cur:<r >) -> True)}
                  ref [a| r|]{r} x
                  {(fun (old:<r >) ->
                   (fun (cur:<r >) -> (fun (anon:ref(r,a)) -> True)))}) 
